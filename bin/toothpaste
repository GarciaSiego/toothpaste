#!/usr/bin/env php
<?php

// Enrico Simonetti
// enricosimonetti.com

if (is_file($autoload = getcwd() . '/vendor/autoload.php')) {
    require $autoload;
}

use Toothpaste\Toothpaste;
use Symfony\Component\Console\Application;

echo Toothpaste::getSoftwareInfo() . PHP_EOL;

if (extension_loaded('xdebug')) {
    echo 'Xdebug is enabled on this system. It is highly recommended to disable Xdebug on PHP CLI before running this script. Xdebug will cause unwanted slowness.' . PHP_EOL;
}

$application = new Application(Toothpaste::getSoftwareName(), Toothpaste::getSoftwareVersionNumber());

$application->add(new \Toothpaste\Commands\RepairCommand());
$application->add(new \Toothpaste\Commands\MySQLOptimizeCommand());
$application->add(new \Toothpaste\Commands\MySQLOptimizeWithIndexManipulationCommand());

$application->run();

exit(0);
